# zimrc - Zim Framework configuration
# This file is sourced during zimfw installation to configure modules and plugins

#
# Core Zim modules
#

# Sets sane Zsh built-in environment options.
zmodule environment

# Applies correct bindkeys for input events.
zmodule input

# Sets a custom terminal title.
zmodule termtitle

# Utility aliases and functions. Adds colour to ls, grep and less.
zmodule utility

#
# Additional completion definitions
#

# Additional completion definitions for Zsh.
zmodule zsh-users/zsh-completions --fpath src

# Enables and configures smart and extensive tab completion.
# Must be sourced after all modules that add completion definitions.
zmodule completion

#
# Custom plugins (loaded early to avoid ZLE conflicts)
#

# Vi mode plugin - needs to load early
zmodule jeffreytse/zsh-vi-mode

# Custom plugins for directory management
zmodule pjvds/zsh-cwd -s 'zsh-cwd.plugin.zsh'
zmodule pjvds/zsh-cd-print

#
# Productivity plugins (with lazy loading)
#

# FZF integration
zmodule pjvds/zsh-fzf-up

# FZF tab completion - loads after completion module
zmodule Aloxaf/fzf-tab

# Directory jumping with z
zmodule agkozak/zsh-z

# Python virtualenv auto-switching
zmodule MichaelAquilina/zsh-autoswitch-virtualenv

# Oh-My-Zsh extract plugin
zmodule ohmyzsh/ohmyzsh --root plugins/extract --source extract.plugin.zsh

#
# Modules that must be initialized last
#

# Fish-like history search - DISABLED because we're using atuin instead
# zmodule zsh-users/zsh-history-substring-search

# Fish-like autosuggestions for Zsh.
# Set ZSH_AUTOSUGGEST_MANUAL_REBIND=1 in .zshrc for performance boost.
#zmodule zsh-users/zsh-autosuggestions

#
# Custom dotfiles modules (local)
#

# Kubernetes tools with lazy-loaded completions
zmodule ${DOTFILES:-$HOME/dotfiles}/k8s --fpath functions --source init.zsh --autoload kubectl --autoload minikube --autoload k3d --autoload argo --autoload kubeprintsec

# Node.js environment with lazy-loaded fnm
zmodule ${DOTFILES:-$HOME/dotfiles}/node --fpath functions --source init.zsh --autoload fnm
