# Lazy-load kubectl completion on first use
# This function will be replaced by the real kubectl after first invocation

# Load completion
source <(command kubectl completion zsh)

# Remove this function so subsequent calls use real kubectl
unfunction kubectl

# Execute the real kubectl
command kubectl "$@"
